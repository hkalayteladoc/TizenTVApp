/**
 * Teladoc Helath Inc. Copyright (c) 2023. All rights reserved.
 */


function successSysInfoProperty(property)
{
	systemInfo.tvModel = property.model;
	systemInfo.tvManufacturer = property.manufacturer;
	systemInfo.tvBuildVersion = property.buildVersion;  
	console.log("systemInfo.TVmodel = " + systemInfo.tvModel);

	systemInfoData[tvModel] = property.model; 
	
}

function errorSysInfoProperty(error)
{
	var msg = "setSource() is failed, error name: " + error.name + ", error message: " + error.message;
	systemInfo.errorMessages.push(msg);
	console.log(msg);
}


function ReadPorts(videoSources)
{
	systemInfo.videoSources = videoSources;
	for(var i = 0; i < videoSources.connected.length; i++)
	{
		var portName = videoSources.connected[i].type + videoSources.connected[i].number; 
		
		systemInfo.portMap.set(portName, videoSources.connected[i]);	
	}
}


function ReadDeviceInfo()
{
	console.log("ReadDeviceInfo()");
	
	tizen.systeminfo.getPropertyValue("VIDEOSOURCE", ReadPorts);
	tizen.systeminfo.getPropertyValue("BUILD", successSysInfoProperty, errorSysInfoProperty);

//https://docs.tizen.org/application/web/api/latest/device_api/tv/tizen/tvaudiocontrol.html	
	
	
//	 CPU
//	 DISPLAY
//	 ETHERNET_NETWORK
//	 LOCALE
//	 MEMORY
//	 NETWORK
//	 PERIPHERAL
//	 STORAGE
//	 WIFI_NETWORK 	
	/*
	 * 
	 * 
https://docs.tizen.org/application/web/api/latest/device_api/tv/tizen/cordova/device.html

	 * 
	1.2. Device
The device object describes the device's hardware and software.

  [NoInterfaceObject] interface Device {
    readonly attribute DOMString cordova;
    readonly attribute DOMString model;
    readonly attribute DOMString platform;
    readonly attribute DOMString uuid;
    readonly attribute DOMString version;
  };
  
https://docs.tizen.org/application/web/api/latest/device_api/tv/tizen/cordova/networkInformation.html  
  
	 * */
	
	
	
	
	systemInfo.currentVideoSource = tizen.tvwindow.getSource();
	
	systemInfo.totalMemoryBytes = tizen.systeminfo.getTotalMemory();
	systemInfo.totalMemoryGiBytes = systemInfo.totalMemoryBytes / (1024 * 1024 * 1024);
    
	systemInfo.availableMemoryBytes = tizen.systeminfo.getAvailableMemory();
	systemInfo.availableMemoryGiBytes = systemInfo.availableMemoryBytes / (1024 * 1024 * 1024);

	systemInfo.coreAPIver = tizen.systeminfo.getCapability("http://tizen.org/feature/platform.core.api.version");

	systemInfo.nativeAPIver = tizen.systeminfo.getCapability("http://tizen.org/feature/platform.native.api.version");
    
	systemInfo.platformver = tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version");
    
	systemInfo.platformWebAPIver = tizen.systeminfo.getCapability("http://tizen.org/feature/platform.web.api.version");
    
	systemInfo.platformVerName = tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version.name");
    
	systemInfo.profileName = tizen.systeminfo.getCapability("http://tizen.org/feature/profile");
	
	console.log("systemInfo.TVmodel 3 = " + systemInfo.tvModel);
	
}

